<view class="nav-bar {{navBarActive ? 'active': ''}}" style="padding-top: {{statusBarHeight}}px">
  <view class="menu-tabs-wrap">
    <image class="notice-center-icon" src="https://img.ubo.vip/tiddler/nav-icon/msg_center.png" bindtap="navToMessageCenter" />
    <view class="menu-tabs">
      <view wx:for="{{['关注', '发现']}}" wx:key="index" class="menu-tab {{curMenuIndex === index ? 'active' : ''}}" bindtap="switchMenu" data-index="{{index}}">{{item}}</view>
    </view>
  </view>
  <view class="search-bar {{navBarActive ? 'active': ''}}" bindtap="search">
    <view class="placeholder">搜索达人打卡景点、酒店...</view>
    <view class="search-btn">
      <image style="width: 20px; height: 20px;" src="https://img.ubo.vip/tiddler/nav-icon/search_white.png" />
    </view>
  </view>
</view>

<view class="container">
  <swiper style="height: {{wrapHeightList[curMenuIndex]}}px;" current="{{curMenuIndex}}" bindchange="swiperChange">
    <swiper-item>
      <view class="content-wrap" style="padding-top: {{statusBarHeight + 102}}px; background: #fff;">
        <follow-media-item wx:for="{{followMediaList}}" wx:key="index" item="{{item}}" />
        <empty-illus 
          wx:if="{{!userInfo || (followFinished && !followMediaList.length)}}" 
          btnContent="{{!userInfo ? '点击登录' : ''}}" 
          desc="{{userInfo ? '暂无关注列表' : '您还未登录'}}" 
          bind:btnClick="register"
        />
        <view class="no-more-tips" wx:if="{{followFinished && followMediaList.length}}">～没有更多了～</view>
      </view>
    </swiper-item>
    <swiper-item>
      <view class="content-wrap" style="padding-top: {{statusBarHeight + 102}}px;">
        <view class="top-media-wrap">
          <view class="top-media">
            <image class="top-media-cover" src="{{topMediaList[curTopMediaIdx].imageList[0]}}" mode="aspectFill" />
            <view class="top-media-time">
              <view class="time-date">13</view>
              <view class="time-split"></view>
              <view>
                <view class="time-month">NOV</view>
                <view class="time-year">2024</view>
              </view>
              <image class="top-desc" src="./images/best_note.png" />
            </view>
          </view>
          <view class="top-media-menu">
            <image 
              class="top-media-menu-item {{curTopMediaIdx === index ? 'active' : ''}}" 
              wx:for="{{topMediaList}}" 
              wx:key="index" 
              src="{{item.imageList[0]}}"
              bindtap="selectTopMedia"
              data-index="{{index}}"
              mode="aspectFill"
            />
          </view>
        </view>
        <fall-flow class="fall-flow" list="{{mediaList}}" generic:item="media-item" bind:finish="setWrapHeight" />
        <empty-illus wx:if="{{finished && !mediaList.length}}" desc="暂无列表" />
        <view class="no-more-tips" wx:if="{{finished && mediaList.length}}">～没有更多了～</view>
      </view>
    </swiper-item>
  </swiper>
</view>
